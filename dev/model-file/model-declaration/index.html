<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Model declaration · Dynare.jl</title><meta name="title" content="Model declaration · Dynare.jl"/><meta property="og:title" content="Model declaration · Dynare.jl"/><meta property="twitter:title" content="Model declaration · Dynare.jl"/><meta name="description" content="Documentation for Dynare.jl."/><meta property="og:description" content="Documentation for Dynare.jl."/><meta property="twitter:description" content="Documentation for Dynare.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">Dynare.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../../installation-and-configuration/">Installation and Configuration</a></li><li><a class="tocitem" href="../../running-dynare/">Running Dynare</a></li><li><span class="tocitem">Model File</span><ul><li><a class="tocitem" href="../syntax-elements/">Syntax elements</a></li><li><a class="tocitem" href="../variable-declarations/">Variables and parameters declaration</a></li><li class="is-active"><a class="tocitem" href>Model declaration</a><ul class="internal"><li><a class="tocitem" href="#Model-declaration"><span>Model declaration</span></a></li><li><a class="tocitem" href="#Auxiliary-variables"><span>Auxiliary variables</span></a></li></ul></li><li><a class="tocitem" href="../steady-state/">Steady state</a></li><li><a class="tocitem" href="../shocks/">Shocks on exgogenous variables</a></li><li><a class="tocitem" href="../deterministic-simulations/">Deterministic simulations</a></li><li><a class="tocitem" href="../local-approxiation/">Local approximation</a></li><li><a class="tocitem" href="../filtersmoother/">State space, filtering and smoothing</a></li><li><a class="tocitem" href="../estimation/">Estimation</a></li><li><a class="tocitem" href="../forecasting/">Forecasting</a></li><li><a class="tocitem" href="../reporting/">Reporting</a></li></ul></li><li><a class="tocitem" href="../../macroprocessor/">Macroprocessing language</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Model File</a></li><li class="is-active"><a href>Model declaration</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Model declaration</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/DynareJulia/Dynare.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/DynareJulia/Dynare.jl/blob/main/docs/src/model-file/model-declaration.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h2 id="Model-declaration"><a class="docs-heading-anchor" href="#Model-declaration">Model declaration</a><a id="Model-declaration-1"></a><a class="docs-heading-anchor-permalink" href="#Model-declaration" title="Permalink"></a></h2><p>The model is declared inside a <code>model</code> block:</p><p><em>Block</em>: <code>model ;</code> </p><p><em>Block</em>: <code>model (OPTIONS...);</code></p><p>The equations of the model are written in a block delimited by <code>model</code> and <code>end</code> keywords.</p><p>There must be as many equations as there are endogenous variables in the model, except when computing the unconstrained optimal policy with <code>ramsey_model</code>, <code>ramsey_policy</code> or <code>discretionary_policy</code>.</p><p>The syntax of equations must follow the conventions for <code>MODEL_EXPRESSION</code> as described in <code>expr</code>. Each equation must be terminated by a semicolon (&#39;;&#39;). A normal equation looks like:</p><pre><code class="nohighlight hljs">MODEL_EXPRESSION = MODEL_EXPRESSION;</code></pre><p>When the equations are written in homogenous form, it is possible to omit the &#39;=0&#39; part and write only the left hand side of the equation. A homogenous equation looks like:</p><pre><code class="nohighlight hljs">MODEL_EXPRESSION;</code></pre><p>Inside the model block, Dynare allows the creation of <em>model-local variables</em>, which constitute a simple way to share a common expression between several equations. The syntax consists of a pound sign (#) followed by the name of the new model local variable (which must <strong>not</strong> be declared as in <code>var-decl</code>, but may have been declared by <code>model_local_variable</code>), an equal sign, and the expression for which this new variable will stand. Later on, every time this variable appears in the model, Dynare will substitute it by the expression assigned to the variable. Note that the scope of this variable is restricted to the model block; it cannot be used outside. To assign a LaTeX name to the model local variable, use the declaration syntax outlined by <code>model_local_variable</code>. A model local variable declaration looks like:</p><pre><code class="nohighlight hljs">#VARIABLE_NAME = MODEL_EXPRESSION;</code></pre><p>It is possible to tag equations written in the model block. A tag can serve different purposes by allowing the user to attach arbitrary informations to each equation and to recover them at runtime. For instance, it is possible to name the equations with a <code>name</code>-tag, using a syntax like:</p><pre><code class="nohighlight hljs">model;

[name = &#39;Budget constraint&#39;];
c + k = k^theta*A;

end;</code></pre><p>Here, <code>name</code> is the keyword indicating that the tag names the equation. If an equation of the model is tagged with a name, the <code>resid</code> command will display the name of the equations (which may be more informative than the equation numbers) in addition to the equation number. Several tags for one equation can be separated using a comma:</p><pre><code class="nohighlight hljs">model;

[name=&#39;Taylor rule&#39;,mcp = &#39;r &gt; -1.94478&#39;]
r = rho*r(-1) + (1-rho)*(gpi*Infl+gy*YGap) + e;

end;</code></pre><p>More information on tags is available at <a href="https://git.dynare.org/Dynare/dynare/-/wikis/Equations-Tags">https://git.dynare.org/Dynare/dynare/-/wikis/Equations-Tags</a>.</p><p>There can be several <code>model</code> blocks, in which case they are simply concatenated. The set of effective options is also the concatenation of the options declared in all the blocks, but in that case you may rather want to use the <code>model_options</code> command.</p><p><em>Options</em></p><ul><li><code>linear</code></li></ul><p>Declares the model as being linear. It spares oneself from having to declare initial values for computing the steady state of a stationary linear model. This option can&#39;t be used with non-linear models, it will NOT trigger linearization of the model.</p><ul><li><code>no_static</code></li></ul><p>Don&#39;t create the static model file. This can be useful for models which don&#39;t have a steady state.</p><ul><li><code>differentiate_forward_vars</code> <code>differentiate_forward_vars = (VARIABLE_NAME [VARIABLE_NAME ...] )</code></li></ul><p>Tells Dynare to create a new auxiliary variable for each endogenous variable that appears with a lead, such that the new variable is the time differentiate of the original one. More precisely, if the model contains <code>x(+1)</code>, then a variable <code>AUX_DIFF_VAR</code> will be created such that <code>AUX_DIFF_VAR=x-x(-1)</code>, and <code>x(+1)</code> will be replaced with <code>x+AUX_DIFF_VAR(+1)</code>.</p><p>The transformation is applied to all endogenous variables with a lead if the option is given without a list of variables. If there is a list, the transformation is restricted to endogenous with a lead that also appear in the list.</p><p>This option can useful for some deterministic simulations where convergence is hard to obtain. Bad values for terminal conditions in the case of very persistent dynamics or permanent shocks can hinder correct solutions or any convergence. The new differentiated variables have obvious zero terminal conditions (if the terminal condition is a steady state) and this in many cases helps convergence of simulations.</p><ul><li><code>parallel_local_files = ( FILENAME [, FILENAME]... )</code></li></ul><p>Declares a list of extra files that should be transferred to follower nodes when doing a parallel computation (see <code>paral-conf</code>).</p><ul><li><code>balanced_growth_test_tol = DOUBLE</code></li></ul><p>Tolerance used for determining whether cross-derivatives are zero in the test for balanced growth path (the latter is documented on <a href="https://archives.dynare.org/DynareWiki/RemovingTrends">https://archives.dynare.org/DynareWiki/RemovingTrends</a>). Default: <code>1e-6</code></p><p><em>Example</em> (Elementary RBC model)</p><pre><code class="nohighlight hljs">var c k;
varexo x;
parameters aa alph bet delt gam;

model;
c =  - k + aa*x*k(-1)^alph + (1-delt)*k(-1);
c^(-gam) = (aa*alph*x(+1)*k^(alph-1) + 1 - delt)*c(+1)^(-gam)/(1+bet);
end;</code></pre><p><em>Example</em> (Use of model local variables)</p><p>The following program:</p><pre><code class="nohighlight hljs">model;
# gamma = 1 - 1/sigma;
u1 = c1^gamma/gamma;
u2 = c2^gamma/gamma;
end;</code></pre><p>...is formally equivalent to:</p><pre><code class="nohighlight hljs">model;
u1 = c1^(1-1/sigma)/(1-1/sigma);
u2 = c2^(1-1/sigma)/(1-1/sigma);
end;</code></pre><p><em>Example</em> (A linear model)</p><pre><code class="nohighlight hljs">model(linear);
x = a*x(-1)+b*y(+1)+e_x;
y = d*y(-1)+e_y;
end;</code></pre><ul><li><code>model_options (OPTIONS...);</code></li></ul><p>This command accepts the same options as the <code>model</code> block.</p><p>The purpose of this statement is to specify the options that apply to the whole model, when there are several <code>model</code> blocks, so as to restore the symmetry between those blocks (since otherwise one <code>model</code> block would typically bear the options, while the other ones would typically have no option).</p><ul><li><code>model_remove (TAGS...);</code></li></ul><p>This command removes equations that appeared in a previous <code>model</code> block.</p><p>The equations must be specified by a list of tag values, separated by commas. Each element of the list is either a simple quoted string, in which case it designates an equation by its <code>name</code> tag; or a tag name (without quotes), followed by an equal sign, then by the tag value (within quotes).</p><p>Each removed equation must either have an <code>endogenous</code> tag, or have a left hand side containing a single endogenous variable. The corresponding endogenous variable will be either turned into an exogenous (if it is still used in somewhere in the model at that point), otherwise it will be removed from the model.</p><p><em>Example</em></p><pre><code class="nohighlight hljs">var c k dummy1 dummy2;

model;
  c + k - aa*x*k(-1)^alph - (1-delt)*k(-1) + dummy1;
  c^(-gam) - (1+bet)^(-1)*(aa*alph*x(+1)*k^(alph-1) + 1 - delt)*c(+1)^(-gam);
  [ name = &#39;eq:dummy1&#39;, endogenous = &#39;dummy1&#39; ]
  c*k = dummy1;
  [ foo = &#39;eq:dummy2&#39; ]
  log(dummy2) = k + 2;
end;

  model_remove(&#39;eq:dummy1&#39;, foo = &#39;eq:dummy2&#39;);</code></pre><p>In the above example, the last two equations will be removed, <code>dummy1</code> will be turned into an exogenous, and <code>dummy2</code> will be removed.</p><ul><li><em>block</em>: <code>model_replace (TAGS...);</code></li></ul><p>This block replaces several equations in the model. It removes the equations given by the tags list (with the same syntax as in <code>model_remove</code>), and it adds equations given within the block (with the same syntax as <code>model</code>).</p><p>No variable is removed or has its type changed in the process.</p><p><em>Example</em></p><pre><code class="nohighlight hljs">var c k;

model;
  c + k - aa*x*k(-1)^alph - (1-delt)*k(-1);
  [ name = &#39;dummy&#39; ]
  c*k = 1;
end;

model_replace(&#39;dummy&#39;);
  c^(-gam) = (1+bet)^(-1)*(aa*alph*x(+1)*k^(alph-1) + 1 - delt)*c(+1)^(-gam);
end;</code></pre><p>In the above example, the dummy equation is replaced by a proper Euler equation.</p><h2 id="Auxiliary-variables"><a class="docs-heading-anchor" href="#Auxiliary-variables">Auxiliary variables</a><a id="Auxiliary-variables-1"></a><a class="docs-heading-anchor-permalink" href="#Auxiliary-variables" title="Permalink"></a></h2><p>The model which is solved internally by Dynare is not exactly the model declared by the user. In some cases, Dynare will introduce auxiliary endogenous variables–-along with corresponding auxiliary equations–-which will appear in the final output.</p><p>The main transformation concerns leads and lags. Dynare will perform a transformation of the model so that there is only one lead and one lag on endogenous variables and no leads/lags on exogenous variables.</p><p>This transformation is achieved by the creation of auxiliary variables and corresponding equations. For example, if <code>x(+2)</code> exists in the model, Dynare will create one auxiliary variable <code>AUX_ENDO_LEAD = x(+1)</code>, and replace <code>x(+2)</code> by <code>AUX_ENDO_LEAD(+1)</code>.</p><p>A similar transformation is done for lags greater than 2 on endogenous (auxiliary variables will have a name beginning with <code>AUX_ENDO_LAG</code>), and for exogenous with leads and lags (auxiliary variables will have a name beginning with <code>AUX_EXO_LEAD</code> or <code>AUX_EXO_LAG</code> respectively).</p><p>Another transformation is done for the <code>EXPECTATION</code> operator. For each occurrence of this operator, Dynare creates an auxiliary variable defined by a new equation, and replaces the expectation operator by a reference to the new auxiliary variable. For example, the expression <code>EXPECTATION(-1)(x(+1))</code> is replaced by <code>AUX_EXPECT_LAG_1(-1)</code>, and the new auxiliary variable is declared as <code>AUX_EXPECT_LAG_1 = x(+2)</code>.</p><p>Auxiliary variables are also introduced by the preprocessor for the <code>ramsey_model</code> and <code>ramsey_policy</code> commands. In this case, they are used to represent the Lagrange multipliers when first order conditions of the Ramsey problem are computed. The new variables take the form <code>MULT_i</code>, where <em>i</em> represents the constraint with which the multiplier is associated (counted from the order of declaration in the model block).</p><p>Auxiliary variables are also introduced by the <code>differentiate_forward_vars</code> option of the model block. The new variables take the form <code>AUX_DIFF_FWRD_i</code>, and are equal to <code>x-x(-1)</code> for some endogenous variable <code>x</code>.</p><p>Finally, auxiliary variables will arise in the context of employing the <code>diff</code>-operator.</p><p>Once created, all auxiliary variables are included in the set of endogenous variables. The output of decision rules (see below) is such that auxiliary variable names are replaced by the original variables they refer to.</p><p>The number of endogenous variables before the creation of auxiliary variables is stored in <code>context.models[1].orig_endo_nbr</code>, and the number of endogenous variables after the creation of auxiliary variables is stored in <code>context.models[1].endogenous_nbr</code>.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../variable-declarations/">« Variables and parameters declaration</a><a class="docs-footer-nextpage" href="../steady-state/">Steady state »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.7.0 on <span class="colophon-date" title="Tuesday 24 September 2024 17:25">Tuesday 24 September 2024</span>. Using Julia version 1.9.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
